---
tags: [design-pattern, kotlin, behavioral]
---

# 템플릿 메서드 패턴

## 한 줄 요약

알고리즘의 골격을 정의하고 일부 단계를 서브클래스에서 구현하도록 하는 패턴 (코틀린에서는 지역 함수 활용)

## 핵심 정리

- 알고리즘의 구조는 고정하고 일부 단계만 변경 가능
- 코틀린에서는 지역 함수를 활용하여 구현
- 함수를 인자로 받아 알고리즘의 일부를 교체 가능

## 상세 내용

### 구현 예제

```kotlin
fun main() {
    runSchedule(afterLunch = fun() {
        println("Discuss my lunch with boss' secretary")
        println("Read something not related to work")
    }, beforeLunch = {
        println("Look for my next trip destination")
        println("Read StackOverflow")
    }, bossHook = { println("Boss: Can we talk privately?") })
}

fun runSchedule(
    beforeLunch: () -> Unit,
    afterLunch: () -> Unit,
    bossHook: (() -> Unit)? = fun() { println() }
) {
    fun arriveToWork() {
        println("How are you all?")
    }

    val drinkCoffee = { println("Did someone left the milk out?") }

    fun goToLunch() = println("I would like something italian")

    val goHome = fun() {
        println("Finally some rest")
    }

    arriveToWork()
    drinkCoffee()
    beforeLunch()
    goToLunch()
    afterLunch()
    bossHook?.let { it() }
    goHome()
}
```

### 특징

- 지역 함수로 고정된 알고리즘 단계 정의
- 함수 파라미터로 변경 가능한 단계 제공
- 선택적 단계는 nullable 파라미터로 처리
- 전통적인 상속 기반 템플릿 메서드보다 유연함

---

**출처**
- 코틀린 디자인 패턴
