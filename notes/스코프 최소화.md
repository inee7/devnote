# 스코프 최소화 
```kotlin
class User {}

//스코프 최소화 
fun f() {
    val users: List<User> = listOf(User(), User())

    //나쁜 예
    var user: User
    for (i in users.indices) {
        user = users[i]
        print("User at $i is $user")
    }

    //조금 더 좋은 예
    for (i in users.indices) {
        val user2 = users[i]
        print("User at $i is $user2")
    }

    //제일 좋은 예
    for ((i, user3) in users.withIndex()) {
        print("User at $i is $user3")
    }

}


```

```kotlin

fun f2(hasValue: Boolean) {
    //나쁜 예 
    val user1: User
    if (hasValue) {
        user1 = getValue()
    } else {
        user1 = User()
    }

    //조금 더 좋은 예 
    val user2: User = if (hasValue) {
        getValue()
    } else {
        User()
    }
}

fun getValue() = User()

```

//TODO 구조분해

//TODO 캡쳐링
#kotlin