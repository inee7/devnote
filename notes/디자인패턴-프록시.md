---
tags: [design-pattern, kotlin, structural]
---

# 프록시 패턴

## 한 줄 요약

객체의 대리자를 통해 객체 접근을 제어하거나 완전히 다른 방식으로 동작하게 만드는 패턴

## 핵심 정리

- 데코레이터 패턴과 마찬가지로 객체의 기능을 확장
- 데코레이터는 추가 동작을 하지만 요청한 동작은 항상 그대로 수행
- 프록시는 완전히 다른 식으로 동작할 수 있음
- 가상 프록시: 값비싼 동작을 매번 하지 않도록 함 (캐싱 등)
- 원격 프록시, 접근 제어 프록시 등 다양한 유형 존재

## 상세 내용

### 가상 프록시 예제

값비싼 동작을 매번 하지 않게 할 수 있다. 예를 들어 두 번째 요청부터 캐시를 사용하는 방식이다.

```kotlin
data class CatImage(
    val thumbnailUrl: String,
    val url: String
) {
    val image: ByteArray by lazy {
        println("Fetching image, please wait")
        // Read image as bytes
        URL(url).readBytes()
    }
}
```

### 실무 활용

Spring AOP도 프록시를 활용한다. 횡단 관심사를 숨겨버리는 방식으로 동작한다.

---

**출처**
- 코틀린 디자인 패턴
